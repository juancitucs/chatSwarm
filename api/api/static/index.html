<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat Distribuido</title>
    <style>
      body {
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
        background: #111;
        color: #eee;
      }
      .hidden {
        display: none;
      }
      header {
        background: #222;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      header h1 {
        margin: 0;
        font-size: 1.2rem;
      }
      button,
      input {
        padding: 6px;
        font-size: 1rem;
        border: none;
        border-radius: 4px;
      }
      button {
        background: #0066cc;
        color: #fff;
        cursor: pointer;
      }
      button:hover {
        background: #005bb5;
      }
      input {
        background: #222;
        border: 1px solid #444;
        color: #eee;
      }
      #main {
        display: flex;
        height: calc(100vh - 60px);
      }
      #sidebar {
        width: 250px;
        border-right: 1px solid #333;
        padding: 10px;
        overflow-y: auto;
      }
      #rooms li {
        padding: 8px;
        border: 1px solid #444;
        margin-bottom: 4px;
        cursor: pointer;
        border-radius: 4px;
      }
      #rooms li:hover {
        background: #222;
      }
      #chat {
        flex: 1;
        display: flex;
        flex-direction: column;
        padding: 10px;
      }
      #messages {
        flex: 1;
        overflow-y: auto;
        padding: 8px;
        background: #000;
        border: 1px solid #444;
        border-radius: 4px;
        display: flex;
        flex-direction: column;
        gap: 6px;
      }
      .msg-wrap {
        display: flex;
        flex-direction: column;
        max-width: 100%;
      }
      .mine {
        align-items: flex-end;
      }
      .other {
        align-items: flex-start;
      }
      .bubble {
        max-width: 70%;
        padding: 6px 8px;
        border-radius: 6px;
        word-wrap: break-word;
      }
      .mine .bubble {
        background: #0066cc;
      }
      .other .bubble {
        background: #444;
      }
      .name {
        font-size: 0.7rem;
        color: #bbb;
        margin-top: 2px;
      }
      .mine .name {
        text-align: right;
      }
      #messages img {
        max-height: 150px;
        border-radius: 4px;
      }
      #composer {
        display: flex;
        gap: 6px;
        margin-top: 8px;
      }
      #composer input[type="text"] {
        flex: 1;
      }
      #login-card,
      #register-card {
        max-width: 300px;
        margin: 80px auto;
        padding: 20px;
        border: 1px solid #444;
        background: #222;
        border-radius: 6px;
      }
      #login-card h2,
      #register-card h2 {
        text-align: center;
        margin: 0 0 10px;
      }
      #login-card input,
      #register-card input {
        width: 100%;
        margin-bottom: 10px;
      }
      a {
        color: #4aaaff;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Chat Distribuido</h1>
      <button id="btn-logout" class="hidden">Cerrar SesiÃ³n</button>
    </header>

    <!-- LOGIN -->
    <div id="login-card">
      <h2>Iniciar SesiÃ³n</h2>
      <input id="login-user" placeholder="Usuario" />
      <input id="login-pass" type="password" placeholder="ContraseÃ±a" />
      <button id="btn-login">Entrar</button>
      <p style="margin-top: 8px; text-align: center">
        Â¿No tienes cuenta? <a id="link-register">RegÃ­strate</a>
      </p>
      <div id="login-error" style="color: #f44; text-align: center"></div>
    </div>

    <!-- REGISTER -->
    <div id="register-card" class="hidden">
      <h2>Crear Cuenta</h2>
      <input id="reg-user" placeholder="Usuario" />
      <input id="reg-pass" type="password" placeholder="ContraseÃ±a" />
      <button id="btn-register">Registrar</button>
      <p style="margin-top: 8px; text-align: center">
        Â¿Ya tienes cuenta? <a id="link-login">Iniciar sesiÃ³n</a>
      </p>
      <div id="reg-error" style="color: #f44; text-align: center"></div>
    </div>

    <!-- APP -->
    <div id="app" class="hidden">
      <div id="main">
        <aside id="sidebar">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 6px;
            "
          >
            <span>Salas</span
            ><button id="btn-new-room" style="padding: 2px 6px">ï¼‹</button>
          </div>
          <ul id="rooms"></ul>
        </aside>
        <section id="chat" class="hidden">
          <h2 id="room-title" style="margin: 4px 0 8px"></h2>
          <div id="messages"></div>
          <div id="composer">
            <input id="msg-input" placeholder="Escribe un mensaje..." />
            <button id="btn-upload">ðŸ“Ž</button>
            <button id="btn-send">Enviar</button>
            <input id="file-input" type="file" class="hidden" />
          </div>
        </section>
      </div>
    </div>

    <scrip src="script.js"></scrip>
  </body>
</html>
